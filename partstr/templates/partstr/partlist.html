{% extends 'base.html' %}

{% block title %}Estructura VPM - Lista{% endblock %}

{% block content %}
<div>
    <h3>Partes de {{ user.first_name }} {{ user.last_name }} </h3><br>

    <small>{{ partnumbers_count }} número(s) de parte.</small><br><br>

    <a href="{% url 'partstr:partlist' request.user.id %}">Todas</a>
    {% for status in allstatus %}
        <a href="{% url 'partstr:partlist' request.user.id %}?u={{user.username}}&q={{status.name}}">{{status.name}}</a>
    {% endfor %}
    

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">PN</th>
                <th scope="col">Designación</th>
                <th scope="col">Estado</th>
                <th scope="col">Propiedades</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            {% for part in partnumbers %}
            <tr>
                <th scope="row">{{part.partnumber}}</th>
                <th>{{part.designation}}</th>
                <th>{{part.status}}</th>
                <th><a href="{% url 'partstr:partupdate' part.id %}">Acceder</a></th>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <br>
    <a href="{% url 'partstr:home' %}">Home</a>
</div>
{% endblock %}
